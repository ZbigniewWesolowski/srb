<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dostępność Torów</title>
    <link rel="stylesheet" href="/css/styles.css">
    <style>
        .available {
            background-color: green;
            color: white;
            padding: 10px;
            margin: 5px;
            display: inline-block;
            text-align: center;
        }
        .unavailable {
            background-color: red;
            color: white;
            padding: 10px;
            margin: 5px;
            display: inline-block;
            text-align: center;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        .grid-item {
            padding: 20px;
            text-align: center;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
<div th:replace="fragments/user/header :: header"></div>
<div th:replace="fragments/user/menu :: menu"></div>

<div class="container">
    <h1>Dostępność Torów</h1>

    <!-- Form to choose the start date -->
    <form action="/availability" method="get">
        <label for="startDate">Wybierz datę początkową:</label>
        <input type="date" id="startDate" name="startDate" value="${startDate}">
        <input type="hidden" name="laneId" value="${laneId}">
        <button type="submit">Sprawdź</button>
    </form>

    <!-- Grid container to show availability -->
    <div class="grid-container">
        <div th:each="date, iterStat : ${availability}">
            <div class="grid-item">
                <h3 th:text="${date.key}"></h3>
                <div th:each="hour, iterStat : ${date.value}">
                    <div th:classappend="${hour.value ? 'available' : 'unavailable'}">
                        <span th:text="${hour.key + ':00'}"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
